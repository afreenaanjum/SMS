(window.webpackJsonpsms=window.webpackJsonpsms||[]).push([[0],{130:function(e,t){},138:function(e,t,a){},139:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(18),o=a.n(l),c=a(92),s=a(26),i=a(31),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},p=a(38);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var h={url:null,playing:!0,played:0,loaded:0,duration:0,playbackRate:1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"URL":return m({},e,{},{url:t.payload});case"PLAYING":return m({},e,{playing:t.payload});case"PLAYED":return m({},e,{played:t.payload});case"LOADED":return m({},e,{loaded:t.payload});case"DURATION":return m({},e,{duration:t.payload});case"PLAYBACKARATE":return m({},e,{playBackRate:t.payload});case"SEEKING":return m({},e,{seeking:t.payload});case"ONPROGRESS":return m({},e,{},t.payload);case"HOST":return m({},e,{isHost:t.payload});default:return e}},E=a(82),g=a.n(E),f=function(){return Object(i.c)(Object(i.b)({startPage:g.a,session:u,videoPlayer:y}))},v=a(93),b=a(83),O=a.n(b),k=a(23),P=a(24),S=a(29),j=a(25),C=a(28),w=a(84),N=a.n(w),D=a(85),x=a.n(D);function A(e){return("0"+e).slice(-2)}var T=function(e){var t=e.className,a=e.seconds;return r.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=A(t.getUTCSeconds());if(a)return"".concat(a,":").concat(A(n),":").concat(r);return"".concat(n,":").concat(r)}(a))},R=function(e){return{type:"URL",payload:e}},U=function(e){return{type:"PLAYING",payload:e}},I=function(e){return{type:"PLAYED",payload:e}},M=function(e){return{type:"DURATION",payload:e}},H=function(e){return{type:"SEEKING",payload:e}},L=function(e){return{type:"ONPROGRESS",payload:e}},z=a(16),F=a(88),B=(a(138),a(152)),G=a(153),Y=a(87),_=a(154),K=a(155),q=a(169),J=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).playPause=function(){var e=!a.props.playing;he.emit("playPause",e),a.props.dispatch(U(e))},a.stop=function(){a.props.dispatch(R(null)),a.props.dispatch(U(!1))},a.onPlay=function(){console.log("onPlay"),a.props.dispatch(U(!0))},a.onPause=function(){console.log("onPause"),a.props.dispatch(U(!1))},a.onSeekMouseDown=function(e){a.props.dispatch(H(!0))},a.onSeekChange=function(e){a.props.dispatch(I(parseFloat(e.target.value)))},a.onSeekMouseUp=function(e){a.props.dispatch(H(!1)),a.player.seekTo(parseFloat(e.target.value))},a.onProgress=function(e){console.log("onProgress",e),a.props.seeking||a.props.dispatch(L(e)),a.props.isHost&&he.emit("onProgress",e)},a.onEnded=function(){console.log("onEnded"),a.props.dispatch(U(!1))},a.onDuration=function(e){console.log("onDuration",e),a.props.dispatch(M(e))},a.onClickFullscreen=function(){N.a.request(Object(l.findDOMNode)(a.player))},a.ref=function(e){a.player=e},a}return Object(C.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){var e=this;he.on("playState",function(t){e.props.dispatch(U(t))}),he.on("updateURL",function(t){e.props.dispatch(R(t))}),he.on("newConnection",function(t){var a=t.url,n=t.playStateServer;e.props.dispatch(R(a)),e.props.dispatch(U(n))}),he.on("sync",function(t){var a=t.played,n=t.url;e.props.dispatch(R(n)),e.player.seekTo(a,"fraction")})}},{key:"render",value:function(e){var t=this;return console.log("video render",this.props.url),r.a.createElement("div",{className:"app"},r.a.createElement("section",null,r.a.createElement(B.a,{style:{border:"none",backgroundColor:"#ebf1f4",padding:"null"}},r.a.createElement("div",{className:"player-wrapper"},r.a.createElement(x.a,{ref:this.ref,className:"react-player",width:"100%",height:"100%",url:this.props.url,playing:this.props.playing,onReady:function(){return console.log("onReady")},onStart:function(){return console.log("onStart")},onPlay:this.onPlay,onPause:this.onPause,onBuffer:function(){return console.log("onBuffer")},onSeek:function(e){return console.log("onSeek",e)},onEnded:this.onEnded,onError:function(e){return console.log("onError",e)},onProgress:this.onProgress,onDuration:this.onDuration})),r.a.createElement(G.a,{style:{border:"none"}},r.a.createElement(Y.a,{color:"none",onClick:this.stop},r.a.createElement(z.d,{color:"white",size:"1em"}))," ",r.a.createElement(Y.a,{color:"none",onClick:this.playPause},this.props.playing?r.a.createElement(z.b,{color:"white",size:"1em"}):r.a.createElement(z.c,{color:"white",size:"1em"}))," ",r.a.createElement(Y.a,{color:"none",onClick:function(){t.player.seekTo(t.props.played,"fraction")}},r.a.createElement(z.e,{color:"white",size:"1em"})),r.a.createElement(Y.a,{color:"none",onClick:this.onClickFullscreen},r.a.createElement(F.a,{color:"white",size:"1.5em"})))),r.a.createElement(_.a,{style:{margin:"5px"}}),r.a.createElement(K.a,null,r.a.createElement("input",{className:"player-progress",type:"range",min:0,max:1,step:"any",value:this.props.played,onMouseDown:this.onSeekMouseDown,onChange:this.onSeekChange,onMouseUp:this.onSeekMouseUp})),r.a.createElement(K.a,null,r.a.createElement("input",{ref:function(e){t.urlInput=e},type:"text",placeholder:"Enter URL"}),r.a.createElement(q.a,{addonType:"append"},r.a.createElement(Y.a,{onClick:function(){he.emit("url",t.urlInput.value),t.props.dispatch(R(t.urlInput.value))}},"Load"),r.a.createElement(Y.a,{onClick:function(){t.props.dispatch({type:"HOST",payload:!0})}},"Host"))),r.a.createElement(B.a,{style:{margin:"50px",padding:"10px"}},r.a.createElement("h2",null,"State"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"url"),r.a.createElement("td",{className:this.props.url?"":"faded"},this.props.url||"null")),r.a.createElement("tr",null,r.a.createElement("th",null,"playing"),r.a.createElement("td",null,this.props.playing?"true":"false")),r.a.createElement("tr",null,r.a.createElement("th",null,"played"),r.a.createElement("td",null,this.props.played.toFixed(3))),r.a.createElement("tr",null,r.a.createElement("th",null,"loaded"),r.a.createElement("td",null,this.props.loaded.toFixed(3))),r.a.createElement("tr",null,r.a.createElement("th",null,"duration"),r.a.createElement("td",null,r.a.createElement(T,{seconds:this.props.duration}))),r.a.createElement("tr",null,r.a.createElement("th",null,"elapsed"),r.a.createElement("td",null,r.a.createElement(T,{seconds:this.props.duration*this.props.played}))),r.a.createElement("tr",null,r.a.createElement("th",null,"remaining"),r.a.createElement("td",null,r.a.createElement(T,{seconds:this.props.duration*(1-this.props.played)}))))))))}}]),t}(r.a.Component),Q=Object(s.b)(function(e){return console.log("mapStateToProps",e),{url:e.videoPlayer.url,playing:e.videoPlayer.playing,played:e.videoPlayer.played,loaded:e.videoPlayer.loaded,duration:e.videoPlayer.duration,seeking:e.videoPlayer.seeking,isHost:e.videoPlayer.isHost}})(J),V=a(94),W=a(7),X=(a(139),a(170)),Z=a(156),$=function(e){function t(){var e;return Object(k.a)(this,t),(e=Object(S.a)(this,Object(j.a)(t).call(this))).state={messages:[],message:""},e.handleChange=e.handleChange.bind(Object(W.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(W.a)(e)),e}return Object(C.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){var e=this;he.on("message",function(t){e.setState({messages:[].concat(Object(V.a)(e.state.messages),[t])})})}},{key:"handleSubmit",value:function(e){e.preventDefault(),he.emit("message",this.state.message),this.setState({message:""})}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({message:t})}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",null,r.a.createElement(B.a,{style:{paddingBottom:"15px",border:"none",backgroundColor:"#f5f5f5"}},r.a.createElement("div",{className:"scroll",id:"style-1"},r.a.createElement("div",{className:"message-align"},this.state.messages.map(function(e){return e.createdAt?he.id!==e.socketId?r.a.createElement(B.a,{id:"group_messages"},r.a.createElement("p",{className:"message-text"},e.text),r.a.createElement("p",{className:"msg_time"},"".concat(e.createdAt," | Username: ").concat(e.socketId))):r.a.createElement(B.a,{id:"my_messages"},r.a.createElement("p",{className:"message-text"},e.text),r.a.createElement("p",{className:"msg_time"},"".concat(e.createdAt," | Username: ").concat(e.socketId))):r.a.createElement(X.a,{color:"dark",id:"alert"},r.a.createElement("p",null,e.text))})))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(K.a,null,r.a.createElement(Z.a,{type:"text",value:this.state.message,onChange:this.handleChange,placeholder:"Type message..",required:!0}),r.a.createElement(q.a,{addonType:"append"},r.a.createElement(Y.a,null,r.a.createElement(z.a,{size:"1em"}))))))}}]),t}(n.Component),ee=a(157),te=a(158),ae=a(159),ne=a(160),re=a(161),le=a(162),oe=a(163),ce=a(171),se=a(164),ie=a(165),ue=a(166),pe=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(S.a)(this,Object(j.a)(t).call(this,e))).toggle=a.toggle.bind(Object(W.a)(a)),a.state={isOpen:!1},a}return Object(C.a)(t,e),Object(P.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee.a,{style:{backgroundColor:"#003a8c"},light:!0,expand:"md"},r.a.createElement(te.a,{href:"/",style:{color:"white"}},"SMS."),r.a.createElement(ae.a,{onClick:this.toggle}),r.a.createElement(ne.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(re.a,{className:"ml-auto",navbar:!0},r.a.createElement(le.a,null,r.a.createElement(oe.a,{href:"/components/",style:{color:"white"}},"UserName")),r.a.createElement(ce.a,{nav:!0,inNavbar:!0},r.a.createElement(se.a,{nav:!0},r.a.createElement(z.f,{size:"1.80em",color:"#C9D4F8"})),r.a.createElement(ie.a,{right:!0},r.a.createElement(ue.a,null,"Profile"),r.a.createElement(ue.a,null,"History"),r.a.createElement(ue.a,{divider:!0}),r.a.createElement(ue.a,null,"Sign out")))))))}}]),t}(r.a.Component),de=a(167),me=a(168),he=O()("http://localhost:3005");function ye(e){return r.a.createElement(v.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(pe,null),r.a.createElement(de.a,null,r.a.createElement(_.a,{style:{margin:"15px"}}),r.a.createElement(_.a,null,r.a.createElement(me.a,{sm:"8"},r.a.createElement(Q,null)),r.a.createElement(me.a,{sm:"4"},r.a.createElement($,null))))))}Object(s.b)(function(e){return{isHost:e.videoPlayer.isHost}})(ye);a(149);var Ee=f();Ee.subscribe(function(){console.log(Ee.getState())}),console.log(Ee.getState());var ge=r.a.createElement(s.a,{store:Ee},r.a.createElement(c.AppContainer,null,r.a.createElement(ye,null)));o.a.render(ge,document.getElementById("root"))},82:function(e,t){},95:function(e,t,a){e.exports=a(151)}},[[95,1,2]]]);
//# sourceMappingURL=main.cc51bd30.chunk.js.map